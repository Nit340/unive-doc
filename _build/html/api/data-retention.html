

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Retention Management API &mdash; IoT Gateway API Documentation 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Diagnostics &amp; Terminal API" href="diagnostics.html" />
    <link rel="prev" title="Backup &amp; Recovery Management" href="backup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IoT Gateway API Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">Univa-Gateway API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#api-structure">API Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#base-url">Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication System Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../authentication.html#page-routes-frontend">Page Routes (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authentication.html#api-endpoints-backend">API Endpoints (Backend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authentication.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authentication.html#flow-examples">Flow Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../authentication.html#user-registration-flow">User Registration Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authentication.html#user-login-flow">User Login Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authentication.html#password-change-flow">Password Change Flow</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core APIs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="general-configuration.html">General Configuration API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="general-configuration.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-configuration.html#api-endpoints-backend">API Endpoints (Backend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-configuration.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-configuration.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-configuration.html#advantages-of-this-approach">Advantages of This Approach</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="device-management.html">Device Management API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="device-management.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-management.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#device-operations">Device Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#device-actions">Device Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#scanning-operations">Scanning Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#group-management">Group Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#import-export-operations">Import/Export Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#wireless-operations">Wireless Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="device-management.html#diagnostics">Diagnostics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="device-management.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-management.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-management.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-management.html#key-features">Key Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tag-mapping.html">Tag Mapping API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tag-mapping.html#tag-mapping-crud-operations">Tag Mapping CRUD Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="tag-mapping.html#device-and-protocol-information">Device and Protocol Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="tag-mapping.html#import-export-operations">Import/Export Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="tag-mapping.html#filtering-and-search">Filtering and Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="tag-mapping.html#device-testing-and-validation">Device Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="tag-mapping.html#configuration-management">Configuration Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#data-types-and-protocols">Data Types and Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-mapping.html#validation-rules">Validation Rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cloud-integration.html">Cloud Integration API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#connection-crud-operations">Connection CRUD Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#connection-information-selection">Connection Information &amp; Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#connection-types-templates">Connection Types &amp; Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#connection-testing">Connection Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#connection-status-toggle">Connection Status Toggle</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#tag-management">Tag Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#statistics-and-monitoring">Statistics and Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-integration.html#configuration-management">Configuration Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#ui-component-details">UI Component Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud-integration.html#supported-protocols">Supported Protocols</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ota-re.html">Gateway OTA &amp; System API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#system-information-section-1">System Information (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#available-updates-section-2">Available Updates (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#manual-upload-management-section-3">Manual Upload Management (SECTION 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#update-settings-management-section-4">Update Settings Management (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#recovery-operations-section-5">Recovery Operations (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#safety-management-section-6">Safety Management (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#monitor-live-updates-section-7">Monitor &amp; Live Updates (SECTION 7)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#websocket-real-time-updates">WebSocket Real-time Updates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#connection-endpoint">Connection Endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota-re.html#message-types">Message Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ota-re.html#update-progress">Update Progress</a></li>
<li class="toctree-l4"><a class="reference internal" href="ota-re.html#system-status-update">System Status Update</a></li>
<li class="toctree-l4"><a class="reference internal" href="ota-re.html#log-entry">Log Entry</a></li>
<li class="toctree-l4"><a class="reference internal" href="ota-re.html#safety-update">Safety Update</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#authentication-context">Authentication &amp; Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#update-types">Update Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#safety-constraints">Safety Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="ota-re.html#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security &amp; Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="security.html#security-status-overview">Security Status (Overview)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#identity-access-management-section-a">Identity &amp; Access Management (SECTION A)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#authentication-policies-section-b">Authentication Policies (SECTION B)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#api-keys-tokens-section-c">API Keys &amp; Tokens (SECTION C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#ssh-access-control-section-d">SSH Access Control (SECTION D)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#firewall-network-security-section-e">Firewall &amp; Network Security (SECTION E)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#certificate-management-section-f">Certificate Management (SECTION F)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#security-audit-log-section-g">Security Audit Log (SECTION G)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#security-operations">Security Operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="security.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#authentication-context">Authentication &amp; Context</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licensing &amp; Subscriptions API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="license.html#license-overview-section-1">License Overview (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#feature-access-matrix-section-2">Feature Access Matrix (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#license-key-management-section-3">License Key Management (SECTION 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#cloud-subscription-section-4">Cloud Subscription (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#trials-management-section-5">Trials Management (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#license-renewal-options">License Renewal Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#license-logs-section-6">License Logs (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#footer-actions">Footer Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#modal-actions">Modal Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="license.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#authentication-context">Authentication &amp; Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#license-types-features">License Types &amp; Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#trial-management">Trial Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#cloud-integration">Cloud Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#renewal-process">Renewal Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#data-formats">Data Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#glossary">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="backup.html">Backup &amp; Recovery Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="backup.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="backup.html#backup-system-status-overview">Backup System Status (Overview)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#backup-management-section-1">Backup Management (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#scheduled-backups-section-2">Scheduled Backups (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#snapshot-management-section-3">Snapshot Management (SECTION 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#disaster-recovery-section-4">Disaster Recovery (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#import-export-operations-section-5">Import &amp; Export Operations (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#storage-management-section-6">Storage Management (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#cleanup-maintenance-section-7">Cleanup &amp; Maintenance (SECTION 7)</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#live-progress-monitor-logs-section-8">Live Progress Monitor &amp; Logs (SECTION 8)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backup.html#websocket-real-time-updates">WebSocket Real-time Updates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="backup.html#connection-endpoint">Connection Endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html#message-types">Message Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="backup.html#backup-progress">Backup Progress</a></li>
<li class="toctree-l4"><a class="reference internal" href="backup.html#restore-progress">Restore Progress</a></li>
<li class="toctree-l4"><a class="reference internal" href="backup.html#backup-completed">Backup Completed</a></li>
<li class="toctree-l4"><a class="reference internal" href="backup.html#storage-alert">Storage Alert</a></li>
<li class="toctree-l4"><a class="reference internal" href="backup.html#schedule-event">Schedule Event</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backup.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup.html#error-codes">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Retention Management API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#storage-status-dashboard-section-1">Storage Status Dashboard (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retention-policies-configuration-section-2">Retention Policies Configuration (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#offline-buffering-settings-section-3">Offline Buffering Settings (SECTION 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#purge-operations-section-4">Purge Operations (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#analytics-reports-section-5">Analytics &amp; Reports (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compliance-audit-section-6">Compliance &amp; Audit (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#footer-actions">Footer Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authentication-context">Authentication &amp; Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-categories">Data Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retention-periods">Retention Periods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#storage-management">Storage Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#offline-buffering">Offline Buffering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#glossary">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagnostics.html">Diagnostics &amp; Terminal API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#system-metrics-section-1">System Metrics (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#real-time-logs-section-2">Real-time Logs (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#terminal-access-section-3">Terminal Access (SECTION 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#diagnostic-tools-section-4">Diagnostic Tools (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#packet-capture-section-5">Packet Capture (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#rf-spectrum-analysis-section-6">RF Spectrum Analysis (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostics.html#footer-actions">Footer Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#authentication-context">Authentication &amp; Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#data-retention">Data Retention</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#glossary">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="loggar.html">Device-Level Logging API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#global-status-dashboard-section-1">Global Status Dashboard (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#log-categories-configuration-section-2">Log Categories Configuration (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#output-destinations-section-3">Output Destinations (SECTION 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#log-rotation-settings-section-4">Log Rotation Settings (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#gateway-management-section-5">Gateway Management (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#operations-testing-section-6">Operations &amp; Testing (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="loggar.html#footer-actions">Footer Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#log-categories">Log Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#output-destinations">Output Destinations</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggar.html#glossary">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="automation.html">Scheduler &amp; Automation Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="automation.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="automation.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="automation.html#system-status-overview">System Status (Overview)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#job-management-section-1">Job Management (SECTION 1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#job-configuration-section-2">Job Configuration (SECTION 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#schedule-types-section-4">Schedule Types (SECTION 4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#conflict-detection-section-5">Conflict Detection (SECTION 5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#bulk-operations-section-6">Bulk Operations (SECTION 6)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#execution-history-section-7">Execution History (SECTION 7)</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#live-monitoring-section-8">Live Monitoring (SECTION 8)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="automation.html#websocket-real-time-updates">WebSocket Real-time Updates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="automation.html#connection-endpoint">Connection Endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="automation.html#message-types">Message Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="automation.html#job-started-event">Job Started Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#job-completed-event">Job Completed Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#job-failed-event">Job Failed Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#schedule-execution-event">Schedule Execution Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#resource-alert-event">Resource Alert Event</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="automation.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="automation.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="automation.html#error-codes">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="alerts.html">Alert Messages API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#alert-classes-operations">Alert Classes Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#alert-messages-operations">Alert Messages Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#preview-operations">Preview Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#configuration-operations">Configuration Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#live-preview-operations">Live Preview Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#utilities-operations">Utilities Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="alerts.html#save-configuration">Save Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#security-notes">Security Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="alerts.html#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rule.html">Rules Engine API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rule.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rule.html#rule-operations">Rule Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#rule-status-operations">Rule Status Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#rule-template-operations">Rule Template Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#rule-testing-operations">Rule Testing Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#configuration-discovery-operations">Configuration Discovery Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#rule-import-export-operations">Rule Import/Export Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#statistics-operations">Statistics Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#validation-operations">Validation Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#utility-operations">Utility Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#bulk-operations">Bulk Operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#wizard-steps-detail">Wizard Steps Detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#data-types-and-constraints">Data Types and Constraints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rule.html#rule-object-structure">Rule Object Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#validation-rules">Validation Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#template-structure">Template Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#integration-points">Integration Points</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rule.html#device-management-integration">Device Management Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule.html#alert-messages-integration">Alert Messages Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="rule.html#testing-strategy">Testing Strategy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notification.html">Notification Channels API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notification.html#page-route-frontend">Page Route (Frontend)</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#api-endpoints-backend">API Endpoints (Backend)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notification.html#channel-operations">Channel Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#channel-status-operations">Channel Status Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#testing-operations">Testing Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#gateway-operations">Gateway Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#status-dashboard-operations">Status Dashboard Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#alert-integration-operations">Alert Integration Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#channel-configuration-templates">Channel Configuration Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#configuration-validation-operations">Configuration Validation Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#delivery-operations">Delivery Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#import-export-operations">Import/Export Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#monitoring-operations">Monitoring Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#webhook-configuration">Webhook Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#route-summary">Route Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#complete-user-flow">Complete User Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#error-codes">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#channel-types-configuration">Channel Types Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notification.html#mqtt-configuration-template">MQTT Configuration Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#email-configuration-template">Email Configuration Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#sms-configuration-template">SMS Configuration Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#webhook-configuration-template">Webhook Configuration Template</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#performance-guidelines">Performance Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#security-considerations">Security Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notification.html#common-issues-and-solutions">Common Issues and Solutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#debug-checklist">Debug Checklist</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notification.html#webhooks-integration">Webhooks Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notification.html#channel-status-change-webhook">Channel Status Change Webhook</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#delivery-status-webhook">Delivery Status Webhook</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification.html#gateway-switch-webhook">Gateway Switch Webhook</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CraneIQ.html">CraneIQ Pro API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#base-url">Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#endpoints">Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#crane-profile-management">Crane Profile Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-all-cranes">Get All Cranes</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-single-crane">Get Single Crane</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#create-crane-profile">Create Crane Profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#update-crane-profile">Update Crane Profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#update-operating-mode">Update Operating Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#delete-crane-profile">Delete Crane Profile</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#load-limiter-configuration">Load Limiter Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-load-limiter-configuration">Get Load Limiter Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#update-load-limiter-configuration">Update Load Limiter Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#calibrate-load-limiter">Calibrate Load Limiter</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-load-limiter-history">Get Load Limiter History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#anti-collision-system-acs">Anti-Collision System (ACS)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-acs-configuration">Get ACS Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#update-acs-configuration">Update ACS Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#pair-cranes-for-acs">Pair Cranes for ACS</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-real-time-acs-status">Get Real-time ACS Status</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#zoning-configuration">Zoning Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-configured-zones">Get Configured Zones</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#create-new-zone">Create New Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#delete-zone">Delete Zone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#health-monitoring">Health Monitoring</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-health-monitoring-configuration">Get Health Monitoring Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-real-time-health-status">Get Real-time Health Status</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#iot-gateway-data-buffer-dataloggers">IoT Gateway Data Buffer (Dataloggers)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-configured-dataloggers">Get Configured Dataloggers</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#create-new-datalogger">Create New Datalogger</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#update-datalogger-status">Update Datalogger Status</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-logged-data">Get Logged Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#rule-engine-integration">Rule Engine Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-safety-rules">Get Safety Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-rule-execution-history">Get Rule Execution History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#test-and-validation">Test and Validation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#test-connection">Test Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#test-safety-systems">Test Safety Systems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CraneIQ.html#configuration-management">Configuration Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#save-configuration">Save Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#reset-to-factory-defaults">Reset to Factory Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="CraneIQ.html#get-configuration-history">Get Configuration History</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#error-responses">Error Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#webhooks">Webhooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#sdk-examples">SDK Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#support">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#crane-types-and-specifications">Crane Types and Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#configuration-best-practices">Configuration Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#safety-compliance-standards">Safety Compliance Standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#troubleshooting-guide">Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="CraneIQ.html#maintenance-schedule">Maintenance Schedule</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IoT Gateway API Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Data Retention Management API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/data-retention.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-retention-management-api">
<h1>Data Retention Management API<a class="headerlink" href="#data-retention-management-api" title="Link to this heading"></a></h1>
<section id="page-route-frontend">
<h2>Page Route (Frontend)<a class="headerlink" href="#page-route-frontend" title="Link to this heading"></a></h2>
<dl class="http get">
<dt class="sig sig-object http" id="get--retention-management">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/retention-management</span></span><a class="headerlink" href="#get--retention-management" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Renders the complete data retention management page with all storage policies, data lifecycle configurations, and retention settings embedded in the HTML.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>HTTP/1.1 200 OK
Content-Type: text/html

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Data Retention Management - Univa Gateway&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot; data-storage-status=&#39;{...}&#39; data-policies=&#39;[...]&#39; data-analytics=&#39;{...}&#39; data-audit=&#39;[...]&#39;&gt;
    &lt;!-- Data retention page with:
         SECTION 1: Storage Status Dashboard
         SECTION 2: Retention Policies Configuration
         SECTION 3: Offline Buffering Settings
         SECTION 4: Purge Operations
         SECTION 5: Analytics &amp; Reports
         SECTION 6: Compliance &amp; Audit
         FOOTER: Export, Diagnostics, System Actions
    --&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p><strong>How it works</strong>:
- Server renders the HTML page with embedded storage and policy data
- All retention configurations, policies, and analytics are embedded
- JavaScript reads this data and renders the complete retention interface
- Gateway context is provided via X-Gateway-ID header</p>
<p><strong>Error Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">302</span> <span class="n">Found</span>
<span class="n">Location</span><span class="p">:</span> <span class="o">/</span><span class="n">login</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="api-endpoints-backend">
<h2>API Endpoints (Backend)<a class="headerlink" href="#api-endpoints-backend" title="Link to this heading"></a></h2>
<p>These endpoints handle all data retention operations triggered from the page. All endpoints operate on the current gateway context identified by the <cite>X-Gateway-ID</cite> header.</p>
<section id="storage-status-dashboard-section-1">
<h3>Storage Status Dashboard (SECTION 1)<a class="headerlink" href="#storage-status-dashboard-section-1" title="Link to this heading"></a></h3>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-status">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/status</span></span><a class="headerlink" href="#get--api-retention-management-status" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Get current storage status and dashboard data.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;total_capacity_mb&quot;</span><span class="p">:</span> <span class="mi">4096</span><span class="p">,</span>
  <span class="s2">&quot;used_mb&quot;</span><span class="p">:</span> <span class="mi">1380</span><span class="p">,</span>
  <span class="s2">&quot;remaining_mb&quot;</span><span class="p">:</span> <span class="mi">2716</span><span class="p">,</span>
  <span class="s2">&quot;usage_percentage&quot;</span><span class="p">:</span> <span class="mf">33.7</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
  <span class="s2">&quot;thresholds&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;high_usage_warning&quot;</span><span class="p">:</span> <span class="mi">85</span><span class="p">,</span>
    <span class="s2">&quot;critical_purge_trigger&quot;</span><span class="p">:</span> <span class="mi">95</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http put">
<dt class="sig sig-object http" id="put--api-retention-management-thresholds">
<span class="sig-name descname"><span class="pre">PUT</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/thresholds</span></span><a class="headerlink" href="#put--api-retention-management-thresholds" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Update storage warning and purge thresholds.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">thresholds</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;high_usage_warning&quot;</span><span class="p">:</span> <span class="mi">85</span><span class="p">,</span>
  <span class="s2">&quot;critical_purge_trigger&quot;</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span>
  <span class="s2">&quot;enable_auto_purge&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;purge_strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;fifo&quot;</span><span class="p">,</span>
  <span class="s2">&quot;exclude_critical_logs&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Storage thresholds updated successfully&quot;</span><span class="p">,</span>
  <span class="s2">&quot;new_thresholds&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;high_usage_warning&quot;</span><span class="p">:</span> <span class="mi">85</span><span class="p">,</span>
    <span class="s2">&quot;critical_purge_trigger&quot;</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span>
    <span class="s2">&quot;auto_purge_enabled&quot;</span><span class="p">:</span> <span class="n">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-refresh-status">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/refresh-status</span></span><a class="headerlink" href="#post--api-retention-management-refresh-status" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Force immediate storage status refresh.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;refreshed&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;refresh_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-20T15:45:00Z&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="retention-policies-configuration-section-2">
<h3>Retention Policies Configuration (SECTION 2)<a class="headerlink" href="#retention-policies-configuration-section-2" title="Link to this heading"></a></h3>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-policies">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/policies</span></span><a class="headerlink" href="#get--api-retention-management-policies" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Get all configured data retention policies.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;policies&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;telemetry&quot;</span><span class="p">,</span>
      <span class="s2">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Telemetry Data&quot;</span><span class="p">,</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
      <span class="s2">&quot;max_size_mb&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
      <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="s2">&quot;weekly&quot;</span><span class="p">,</span>
      <span class="s2">&quot;purge_priority&quot;</span><span class="p">:</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span>
      <span class="s2">&quot;estimated_current_size_mb&quot;</span><span class="p">:</span> <span class="mi">320</span><span class="p">,</span>
      <span class="s2">&quot;last_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-10T02:00:00Z&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;craneiq_safety&quot;</span><span class="p">,</span>
      <span class="s2">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;CraneIQ Safety Logs&quot;</span><span class="p">,</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
      <span class="s2">&quot;max_size_mb&quot;</span><span class="p">:</span> <span class="mi">700</span><span class="p">,</span>
      <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="s2">&quot;daily&quot;</span><span class="p">,</span>
      <span class="s2">&quot;purge_priority&quot;</span><span class="p">:</span> <span class="s2">&quot;critical&quot;</span><span class="p">,</span>
      <span class="s2">&quot;protected&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;estimated_current_size_mb&quot;</span><span class="p">:</span> <span class="mi">450</span><span class="p">,</span>
      <span class="s2">&quot;last_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-05T02:00:00Z&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http put">
<dt class="sig sig-object http" id="put--api-retention-management-policies-category_id">
<span class="sig-name descname"><span class="pre">PUT</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/policies/{category_id}</span></span><a class="headerlink" href="#put--api-retention-management-policies-category_id" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Update retention policy for a specific data category.</p>
<p><strong>Path Parameters</strong>:</p>
<ul class="simple">
<li><p><strong>category_id</strong> (string): Category identifier (telemetry, events, alerts, craneiq_safety, ota_history)</p></li>
</ul>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">policies</span><span class="o">/</span><span class="n">telemetry</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="s2">&quot;max_size_mb&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
  <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="s2">&quot;weekly&quot;</span><span class="p">,</span>
  <span class="s2">&quot;purge_priority&quot;</span><span class="p">:</span> <span class="s2">&quot;medium&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;telemetry&quot;</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Retention policy updated for telemetry data&quot;</span><span class="p">,</span>
  <span class="s2">&quot;next_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-04-12T02:00:00Z&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-policies-status">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/policies/status</span></span><a class="headerlink" href="#get--api-retention-management-policies-status" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Get current status of all policies including size and last purge.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;policies_status&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;telemetry&quot;</span><span class="p">,</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;current_size_mb&quot;</span><span class="p">:</span> <span class="mi">320</span><span class="p">,</span>
      <span class="s2">&quot;last_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-10T02:00:00Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;next_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-17T02:00:00Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;records_count&quot;</span><span class="p">:</span> <span class="mi">45000</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;craneiq_safety&quot;</span><span class="p">,</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;current_size_mb&quot;</span><span class="p">:</span> <span class="mi">450</span><span class="p">,</span>
      <span class="s2">&quot;last_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-05T02:00:00Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;next_purge&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-12T02:00:00Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;records_count&quot;</span><span class="p">:</span> <span class="mi">12000</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http put">
<dt class="sig sig-object http" id="put--api-retention-management-policies-batch">
<span class="sig-name descname"><span class="pre">PUT</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/policies/batch</span></span><a class="headerlink" href="#put--api-retention-management-policies-batch" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Update multiple retention policies at once.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">policies</span><span class="o">/</span><span class="n">batch</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;policies&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;telemetry&quot;</span><span class="p">,</span>
      <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
      <span class="s2">&quot;max_size_mb&quot;</span><span class="p">:</span> <span class="mi">600</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span>
      <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
      <span class="s2">&quot;purge_priority&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;apply_immediately&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;updated&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;updated_policies&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Batch update completed successfully&quot;</span><span class="p">,</span>
  <span class="s2">&quot;summary&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;telemetry&quot;</span><span class="p">:</span> <span class="s2">&quot;Updated&quot;</span><span class="p">,</span>
    <span class="s2">&quot;events&quot;</span><span class="p">:</span> <span class="s2">&quot;Updated&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="offline-buffering-settings-section-3">
<h3>Offline Buffering Settings (SECTION 3)<a class="headerlink" href="#offline-buffering-settings-section-3" title="Link to this heading"></a></h3>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-offline-buffer">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/offline-buffer</span></span><a class="headerlink" href="#get--api-retention-management-offline-buffer" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Get offline buffering configuration and status.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
  <span class="s2">&quot;max_queue_size_mb&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="s2">&quot;current_queue_size_mb&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;pending_records&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;retry_interval_seconds&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="s2">&quot;last_sync&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-20T14:25:00Z&quot;</span><span class="p">,</span>
  <span class="s2">&quot;sync_status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http put">
<dt class="sig sig-object http" id="put--api-retention-management-offline-buffer-config">
<span class="sig-name descname"><span class="pre">PUT</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/offline-buffer/config</span></span><a class="headerlink" href="#put--api-retention-management-offline-buffer-config" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Configure offline data buffering settings.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">offline</span><span class="o">-</span><span class="n">buffer</span><span class="o">/</span><span class="n">config</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;max_queue_size_mb&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="s2">&quot;retry_interval_seconds&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="s2">&quot;max_retry_time_minutes&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="s2">&quot;auto_sync_on_reconnect&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;configured&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Offline buffering configuration updated&quot;</span><span class="p">,</span>
  <span class="s2">&quot;estimated_capacity&quot;</span><span class="p">:</span> <span class="s2">&quot;approximately 5000 records&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-offline-buffer-sync">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/offline-buffer/sync</span></span><a class="headerlink" href="#post--api-retention-management-offline-buffer-sync" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Manually trigger sync of buffered data.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">offline</span><span class="o">-</span><span class="n">buffer</span><span class="o">/</span><span class="n">sync</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;synced&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;sync_id&quot;</span><span class="p">:</span> <span class="s2">&quot;sync_20240320_152045&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;in_progress&quot;</span><span class="p">,</span>
  <span class="s2">&quot;records_to_sync&quot;</span><span class="p">:</span> <span class="mi">245</span><span class="p">,</span>
  <span class="s2">&quot;estimated_duration&quot;</span><span class="p">:</span> <span class="s2">&quot;00:01:30&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="purge-operations-section-4">
<h3>Purge Operations (SECTION 4)<a class="headerlink" href="#purge-operations-section-4" title="Link to this heading"></a></h3>
<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-purge">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/purge</span></span><a class="headerlink" href="#post--api-retention-management-purge" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Manually purge data older than retention policy.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">purge</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="s2">&quot;alerts&quot;</span><span class="p">],</span>
  <span class="s2">&quot;older_than_days&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;exclude_critical&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;dry_run&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;confirmation&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;Manual cleanup&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;purged&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;purge_id&quot;</span><span class="p">:</span> <span class="s2">&quot;purge_20240320_160015&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;in_progress&quot;</span><span class="p">,</span>
  <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="s2">&quot;alerts&quot;</span><span class="p">],</span>
  <span class="s2">&quot;estimated_records&quot;</span><span class="p">:</span> <span class="mi">12450</span><span class="p">,</span>
  <span class="s2">&quot;estimated_freed_space_mb&quot;</span><span class="p">:</span> <span class="mi">850</span><span class="p">,</span>
  <span class="s2">&quot;excluded_categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;craneiq_safety&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-purge-progress-purge_id">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/purge/progress/{purge_id}</span></span><a class="headerlink" href="#get--api-retention-management-purge-progress-purge_id" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Check status of ongoing purge operation.</p>
<p><strong>Path Parameters</strong>:</p>
<ul class="simple">
<li><p><strong>purge_id</strong> (string): Purge operation identifier</p></li>
</ul>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;purge_id&quot;</span><span class="p">:</span> <span class="s2">&quot;purge_20240320_160015&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;completed&quot;</span><span class="p">,</span>
  <span class="s2">&quot;progress&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="s2">&quot;records_deleted&quot;</span><span class="p">:</span> <span class="mi">12450</span><span class="p">,</span>
  <span class="s2">&quot;freed_space_mb&quot;</span><span class="p">:</span> <span class="mi">850</span><span class="p">,</span>
  <span class="s2">&quot;duration_seconds&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
  <span class="s2">&quot;categories_purged&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="s2">&quot;alerts&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-purge-non-critical">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/purge/non-critical</span></span><a class="headerlink" href="#post--api-retention-management-purge-non-critical" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Clear all non-critical data categories.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">purge</span><span class="o">/</span><span class="n">non</span><span class="o">-</span><span class="n">critical</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;confirmation&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-20T18:00:00Z&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;backup_before_clear&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;cleared&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;operation_id&quot;</span><span class="p">:</span> <span class="s2">&quot;clear_non_critical_20240320_180000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;started&quot;</span><span class="p">,</span>
  <span class="s2">&quot;categories_to_clear&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="s2">&quot;alerts&quot;</span><span class="p">,</span> <span class="s2">&quot;ota_history&quot;</span><span class="p">],</span>
  <span class="s2">&quot;categories_preserved&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;craneiq_safety&quot;</span><span class="p">],</span>
  <span class="s2">&quot;estimated_freed_space_mb&quot;</span><span class="p">:</span> <span class="mi">795</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-purge-emergency">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/purge/emergency</span></span><a class="headerlink" href="#post--api-retention-management-purge-emergency" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Perform emergency cleanup when storage is critical.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">purge</span><span class="o">/</span><span class="n">emergency</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;target_percentage&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
  <span class="s2">&quot;preserve_critical&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;preserve_last_n_days&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="s2">&quot;confirmation&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;emergency_code&quot;</span><span class="p">:</span> <span class="s2">&quot;STORAGE_CRITICAL_95&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;emergency_purged&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;emergency_purge_id&quot;</span><span class="p">:</span> <span class="s2">&quot;emergency_purge_20240320_163000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;started&quot;</span><span class="p">,</span>
  <span class="s2">&quot;current_usage_percentage&quot;</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span>
  <span class="s2">&quot;target_usage_percentage&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
  <span class="s2">&quot;estimated_freed_space_mb&quot;</span><span class="p">:</span> <span class="mi">820</span><span class="p">,</span>
  <span class="s2">&quot;priority_order&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ota_history&quot;</span><span class="p">,</span> <span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="s2">&quot;alerts&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="analytics-reports-section-5">
<h3>Analytics &amp; Reports (SECTION 5)<a class="headerlink" href="#analytics-reports-section-5" title="Link to this heading"></a></h3>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-analytics">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/analytics</span></span><a class="headerlink" href="#get--api-retention-management-analytics" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Get detailed storage analytics and forecasts.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Query Parameters</strong>:</p>
<ul class="simple">
<li><p><strong>time_range</strong> (optional): Time period (7d, 30d, 90d, default: 30d)</p></li>
<li><p><strong>include_forecast</strong> (optional): Include forecast data (default: true)</p></li>
</ul>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;analytics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;time_range&quot;</span><span class="p">:</span> <span class="s2">&quot;30d&quot;</span><span class="p">,</span>
    <span class="s2">&quot;storage_trend&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;start_usage_mb&quot;</span><span class="p">:</span> <span class="mi">1250</span><span class="p">,</span>
      <span class="s2">&quot;end_usage_mb&quot;</span><span class="p">:</span> <span class="mi">1380</span><span class="p">,</span>
      <span class="s2">&quot;daily_growth_mb&quot;</span><span class="p">:</span> <span class="mf">4.33</span><span class="p">,</span>
      <span class="s2">&quot;growth_percentage&quot;</span><span class="p">:</span> <span class="mf">10.4</span>
    <span class="p">},</span>
    <span class="s2">&quot;category_breakdown&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;telemetry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;size_mb&quot;</span><span class="p">:</span> <span class="mi">320</span><span class="p">,</span> <span class="s2">&quot;percentage&quot;</span><span class="p">:</span> <span class="mf">23.2</span> <span class="p">},</span>
      <span class="s2">&quot;craneiq_safety&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;size_mb&quot;</span><span class="p">:</span> <span class="mi">450</span><span class="p">,</span> <span class="s2">&quot;percentage&quot;</span><span class="p">:</span> <span class="mf">32.6</span> <span class="p">},</span>
      <span class="s2">&quot;events&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;size_mb&quot;</span><span class="p">:</span> <span class="mi">280</span><span class="p">,</span> <span class="s2">&quot;percentage&quot;</span><span class="p">:</span> <span class="mf">20.3</span> <span class="p">},</span>
      <span class="s2">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;size_mb&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span> <span class="s2">&quot;percentage&quot;</span><span class="p">:</span> <span class="mf">10.9</span> <span class="p">},</span>
      <span class="s2">&quot;ota_history&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;size_mb&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span> <span class="s2">&quot;percentage&quot;</span><span class="p">:</span> <span class="mf">3.3</span> <span class="p">},</span>
      <span class="s2">&quot;other&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;size_mb&quot;</span><span class="p">:</span> <span class="mi">135</span><span class="p">,</span> <span class="s2">&quot;percentage&quot;</span><span class="p">:</span> <span class="mf">9.8</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;forecast&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;days_until_full&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
      <span class="s2">&quot;estimated_full_date&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-04-26&quot;</span><span class="p">,</span>
      <span class="s2">&quot;recommended_action&quot;</span><span class="p">:</span> <span class="s2">&quot;Increase telemetry compression to weekly&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-reports-generate">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/reports/generate</span></span><a class="headerlink" href="#post--api-retention-management-reports-generate" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Generate detailed retention policy report.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">reports</span><span class="o">/</span><span class="n">generate</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;report_type&quot;</span><span class="p">:</span> <span class="s2">&quot;comprehensive&quot;</span><span class="p">,</span>
  <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
  <span class="s2">&quot;include_recommendations&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;time_range&quot;</span><span class="p">:</span> <span class="s2">&quot;90d&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;generated&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;report_id&quot;</span><span class="p">:</span> <span class="s2">&quot;report_20240320_170000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;generating&quot;</span><span class="p">,</span>
  <span class="s2">&quot;download_url&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/retention-management/reports/download/report_20240320_170000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;size_estimate_mb&quot;</span><span class="p">:</span> <span class="mf">2.5</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="compliance-audit-section-6">
<h3>Compliance &amp; Audit (SECTION 6)<a class="headerlink" href="#compliance-audit-section-6" title="Link to this heading"></a></h3>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-compliance">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/compliance</span></span><a class="headerlink" href="#get--api-retention-management-compliance" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Check compliance with retention policies.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;compliance_check&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-20T18:30:00Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;overall_compliance&quot;</span><span class="p">:</span> <span class="mf">95.7</span><span class="p">,</span>
    <span class="s2">&quot;checks&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;telemetry&quot;</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;compliant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
        <span class="s2">&quot;oldest_record_days&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s2">&quot;size_within_limit&quot;</span><span class="p">:</span> <span class="n">true</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;craneiq_safety&quot;</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;compliant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
        <span class="s2">&quot;oldest_record_days&quot;</span><span class="p">:</span> <span class="mi">87</span><span class="p">,</span>
        <span class="s2">&quot;protected&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;sync_status&quot;</span><span class="p">:</span> <span class="s2">&quot;up_to_date&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;violations&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;warnings&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;recommendations&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;Consider increasing telemetry compression to reduce storage growth&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-retention-management-audit">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/audit</span></span><a class="headerlink" href="#get--api-retention-management-audit" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Get audit log of retention operations.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Query Parameters</strong>:</p>
<ul class="simple">
<li><p><strong>start_date</strong> (optional): Start date (YYYY-MM-DD)</p></li>
<li><p><strong>end_date</strong> (optional): End date (YYYY-MM-DD)</p></li>
<li><p><strong>operation_type</strong> (optional): Operation type filter</p></li>
<li><p><strong>limit</strong> (optional): Records limit (default: 100)</p></li>
<li><p><strong>offset</strong> (optional): Pagination offset</p></li>
</ul>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;audit_log&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-20T02:00:00Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;scheduled_purge&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span>
      <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">],</span>
      <span class="s2">&quot;records_deleted&quot;</span><span class="p">:</span> <span class="mi">3245</span><span class="p">,</span>
      <span class="s2">&quot;freed_space_mb&quot;</span><span class="p">:</span> <span class="mi">220</span><span class="p">,</span>
      <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;completed&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-19T14:30:00Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;policy_update&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
      <span class="s2">&quot;changes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;telemetry.retention_days&quot;</span><span class="p">:</span> <span class="s2">&quot;7  14&quot;</span><span class="p">,</span>
        <span class="s2">&quot;telemetry.max_size_mb&quot;</span><span class="p">:</span> <span class="s2">&quot;500  600&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;applied&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;total_records&quot;</span><span class="p">:</span> <span class="mi">245</span><span class="p">,</span>
  <span class="s2">&quot;has_more&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="footer-actions">
<h3>Footer Actions<a class="headerlink" href="#footer-actions" title="Link to this heading"></a></h3>
<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-export">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/export</span></span><a class="headerlink" href="#post--api-retention-management-export" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Export stored data for analysis or backup.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">export</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;telemetry&quot;</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="s2">&quot;alerts&quot;</span><span class="p">],</span>
  <span class="s2">&quot;date_from&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-02-01&quot;</span><span class="p">,</span>
  <span class="s2">&quot;date_to&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-03-20&quot;</span><span class="p">,</span>
  <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span>
  <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="s2">&quot;gzip&quot;</span><span class="p">,</span>
  <span class="s2">&quot;include_metadata&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;exported&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;export_id&quot;</span><span class="p">:</span> <span class="s2">&quot;export_20240320_171500&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;processing&quot;</span><span class="p">,</span>
  <span class="s2">&quot;estimated_size_mb&quot;</span><span class="p">:</span> <span class="mi">750</span><span class="p">,</span>
  <span class="s2">&quot;download_url&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/retention-management/export/download/export_20240320_171500&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-diagnostics">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/diagnostics</span></span><a class="headerlink" href="#post--api-retention-management-diagnostics" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Run comprehensive storage diagnostics.</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">diagnostics</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;checks&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;integrity&quot;</span><span class="p">,</span> <span class="s2">&quot;performance&quot;</span><span class="p">,</span> <span class="s2">&quot;configuration&quot;</span><span class="p">],</span>
  <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;fix_issues&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;diagnostics_run&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;diagnostic_id&quot;</span><span class="p">:</span> <span class="s2">&quot;diag_20240320_172000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;running&quot;</span><span class="p">,</span>
  <span class="s2">&quot;results_url&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/retention-management/diagnostics/results/diag_20240320_172000&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-retention-management-system-reset">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/retention-management/system/reset</span></span><a class="headerlink" href="#post--api-retention-management-system-reset" title="Link to this definition"></a></dt>
<dd><p><strong>Description</strong>: Complete storage reset (requires admin approval).</p>
<p><strong>Headers</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">retention</span><span class="o">-</span><span class="n">management</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">reset</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;confirmation&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;encrypted_admin_password&quot;</span><span class="p">,</span>
    <span class="s2">&quot;emergency_code&quot;</span><span class="p">:</span> <span class="s2">&quot;FULL_RESET_AUTHORIZED&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;backup_before_reset&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;preserve_configuration&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Success Response</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>

<span class="p">{</span>
  <span class="s2">&quot;reset&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;reset_id&quot;</span><span class="p">:</span> <span class="s2">&quot;full_reset_20240320_181500&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;authorized&quot;</span><span class="p">,</span>
  <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="s2">&quot;This will erase ALL data and restart the system&quot;</span><span class="p">,</span>
  <span class="s2">&quot;backup_created&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;restart_required&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="route-summary">
<h2>Route Summary<a class="headerlink" href="#route-summary" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Data Retention Management Routes</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 50.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Method</p></th>
<th class="head"><p>Route &amp; Purpose</p></th>
<th class="head"><p>Auth</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Page</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/retention-management</span></code> - Main retention page</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/status</span></code> - Storage status</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Status</p></td>
<td><p>PUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/thresholds</span></code> - Update thresholds</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/refresh-status</span></code> - Refresh status</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Policies</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/policies</span></code> - Get all policies</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Policies</p></td>
<td><p>PUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/policies/{id}</span></code> - Update policy</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Policies</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/policies/status</span></code> - Policy status</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Policies</p></td>
<td><p>PUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/policies/batch</span></code> - Batch update</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Offline</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/offline-buffer</span></code> - Buffer status</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Offline</p></td>
<td><p>PUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/offline-buffer/config</span></code> - Configure buffer</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Offline</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/offline-buffer/sync</span></code> - Manual sync</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Purge</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/purge</span></code> - Manual purge</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Purge</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/purge/progress/{id}</span></code> - Purge progress</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Purge</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/purge/non-critical</span></code> - Clear non-critical</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Purge</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/purge/emergency</span></code> - Emergency purge</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Analytics</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/analytics</span></code> - Storage analytics</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Analytics</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/reports/generate</span></code> - Generate report</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Compliance</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/compliance</span></code> - Compliance check</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Compliance</p></td>
<td><p>GET</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/audit</span></code> - Audit log</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Footer</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/export</span></code> - Export data</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Footer</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/diagnostics</span></code> - Run diagnostics</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Footer</p></td>
<td><p>POST</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/retention-management/system/reset</span></code> - Full reset</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="complete-user-flow">
<h2>Complete User Flow<a class="headerlink" href="#complete-user-flow" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>User goes to page</strong>: <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/retention-management</span></code>
- Server renders HTML with embedded retention data
- All 6 sections populated with current configuration</p></li>
<li><p><strong>User views storage status</strong> (SECTION 1):
- Storage usage charts and thresholds
- System health indicators
- Update Thresholds  <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/api/retention-management/thresholds</span></code>
- Refresh Status  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/refresh-status</span></code></p></li>
<li><p><strong>User configures retention policies</strong> (SECTION 2):
- Policy table with category settings
- Update Policy  <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/api/retention-management/policies/{id}</span></code>
- Batch Update  <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/api/retention-management/policies/batch</span></code>
- View Status  <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/retention-management/policies/status</span></code></p></li>
<li><p><strong>User manages offline buffering</strong> (SECTION 3):
- Buffer configuration and status
- Configure Buffer  <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/api/retention-management/offline-buffer/config</span></code>
- Sync Now  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/offline-buffer/sync</span></code>
- Real-time queue monitoring</p></li>
<li><p><strong>User performs purge operations</strong> (SECTION 4):
- Manual purge form with options
- Purge Data  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/purge</span></code>
- Check Progress  <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/retention-management/purge/progress/{id}</span></code>
- Clear Non-Critical  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/purge/non-critical</span></code>
- Emergency Cleanup  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/purge/emergency</span></code></p></li>
<li><p><strong>User views analytics</strong> (SECTION 5):
- Storage trends and forecasts
- Category breakdown charts
- View Analytics  <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/retention-management/analytics</span></code>
- Generate Report  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/reports/generate</span></code></p></li>
<li><p><strong>User checks compliance</strong> (SECTION 6):
- Compliance status dashboard
- Audit log viewer with filters
- Check Compliance  <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/retention-management/compliance</span></code>
- View Audit Log  <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/retention-management/audit</span></code></p></li>
<li><p><strong>User uses footer actions</strong>:
- Export Data  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/export</span></code>
- Run Diagnostics  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/diagnostics</span></code>
- Full Reset  <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/retention-management/system/reset</span></code></p></li>
</ol>
</section>
<section id="error-codes">
<h2>Error Codes<a class="headerlink" href="#error-codes" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Data Retention Error Codes</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>STORAGE_CRITICAL</p></td>
<td><p>Storage usage above critical threshold</p></td>
</tr>
<tr class="row-odd"><td><p>PROTECTED_CATEGORY</p></td>
<td><p>Attempt to modify protected data category</p></td>
</tr>
<tr class="row-even"><td><p>INSUFFICIENT_STORAGE</p></td>
<td><p>Not enough space for operation</p></td>
</tr>
<tr class="row-odd"><td><p>RETENTION_VIOLATION</p></td>
<td><p>Policy would violate compliance requirements</p></td>
</tr>
<tr class="row-even"><td><p>BACKUP_REQUIRED</p></td>
<td><p>Backup required before destructive operation</p></td>
</tr>
<tr class="row-odd"><td><p>ADMIN_APPROVAL_REQUIRED</p></td>
<td><p>Operation requires administrator approval</p></td>
</tr>
<tr class="row-even"><td><p>INVALID_POLICY</p></td>
<td><p>Invalid retention policy configuration</p></td>
</tr>
<tr class="row-odd"><td><p>SYNC_IN_PROGRESS</p></td>
<td><p>Data sync already in progress</p></td>
</tr>
<tr class="row-even"><td><p>EXPORT_TOO_LARGE</p></td>
<td><p>Export exceeds maximum allowed size</p></td>
</tr>
<tr class="row-odd"><td><p>PURGE_ACTIVE</p></td>
<td><p>Purge operation already in progress</p></td>
</tr>
<tr class="row-even"><td><p>BUFFER_FULL</p></td>
<td><p>Offline buffer is full</p></td>
</tr>
<tr class="row-odd"><td><p>COMPLIANCE_FAILED</p></td>
<td><p>Operation would violate compliance</p></td>
</tr>
</tbody>
</table>
</section>
<section id="authentication-context">
<h2>Authentication &amp; Context<a class="headerlink" href="#authentication-context" title="Link to this heading"></a></h2>
<p>All endpoints require gateway context identification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cookie</span><span class="p">:</span> <span class="n">session_token</span><span class="o">=&lt;</span><span class="n">token</span><span class="o">&gt;</span>
<span class="n">X</span><span class="o">-</span><span class="n">Gateway</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="n">GW</span><span class="o">-</span><span class="mi">3920</span><span class="n">A9</span>
</pre></div>
</div>
<p><strong>Important</strong>: This API manages data retention for the current gateway specified in <cite>X-Gateway-ID</cite> header. Critical safety data has special protection.</p>
</section>
<section id="data-categories">
<h2>Data Categories<a class="headerlink" href="#data-categories" title="Link to this heading"></a></h2>
<p>### Supported Categories</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Data Categories</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 40.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Category ID</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Protection Level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>telemetry</strong></p></td>
<td><p>Telemetry data from sensors</p></td>
<td><p>Medium</p></td>
</tr>
<tr class="row-odd"><td><p><strong>events</strong></p></td>
<td><p>System and application events</p></td>
<td><p>High</p></td>
</tr>
<tr class="row-even"><td><p><strong>alerts</strong></p></td>
<td><p>Alert and notification logs</p></td>
<td><p>Medium</p></td>
</tr>
<tr class="row-odd"><td><p><strong>craneiq_safety</strong></p></td>
<td><p>CraneIQ safety critical logs</p></td>
<td><p>Critical (Protected)</p></td>
</tr>
<tr class="row-even"><td><p><strong>ota_history</strong></p></td>
<td><p>OTA update history and logs</p></td>
<td><p>Medium</p></td>
</tr>
<tr class="row-odd"><td><p><strong>system_logs</strong></p></td>
<td><p>System operation logs</p></td>
<td><p>Low</p></td>
</tr>
<tr class="row-even"><td><p><strong>debug_logs</strong></p></td>
<td><p>Debug and trace logs</p></td>
<td><p>Low</p></td>
</tr>
</tbody>
</table>
<p>### Protection Levels</p>
<ol class="arabic simple">
<li><p><strong>Critical</strong>: CraneIQ safety logs - Cannot be deleted, special protection</p></li>
<li><p><strong>High</strong>: Event logs - Extended retention, sync before delete</p></li>
<li><p><strong>Medium</strong>: Telemetry, alerts - Standard retention, auto-purge</p></li>
<li><p><strong>Low</strong>: System logs, debug - Short retention, first to purge</p></li>
</ol>
</section>
<section id="retention-periods">
<h2>Retention Periods<a class="headerlink" href="#retention-periods" title="Link to this heading"></a></h2>
<p>### Default Retention Periods</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Default Retention</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 40.0%" />
<col style="width: 30.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Default Days</p></th>
<th class="head"><p>Maximum Days</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CraneIQ Safety Logs</p></td>
<td><p>90</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p>Event Logs</p></td>
<td><p>30</p></td>
<td><p>180</p></td>
</tr>
<tr class="row-even"><td><p>Alert Logs</p></td>
<td><p>60</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p>Telemetry Data</p></td>
<td><p>7</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td><p>OTA History</p></td>
<td><p>120</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p>System Logs</p></td>
<td><p>14</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td><p>Debug Logs</p></td>
<td><p>7</p></td>
<td><p>14</p></td>
</tr>
</tbody>
</table>
<p>### Compression Settings</p>
<ol class="arabic simple">
<li><p><strong>None</strong>: No compression (for frequently accessed data)</p></li>
<li><p><strong>Daily</strong>: Daily compression (for event logs)</p></li>
<li><p><strong>Weekly</strong>: Weekly compression (for telemetry data)</p></li>
<li><p><strong>Monthly</strong>: Monthly compression (for historical data)</p></li>
</ol>
</section>
<section id="storage-management">
<h2>Storage Management<a class="headerlink" href="#storage-management" title="Link to this heading"></a></h2>
<p>### Threshold Configuration</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">Storage Thresholds</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 40.0%" />
<col style="width: 30.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Threshold Type</p></th>
<th class="head"><p>Default Value</p></th>
<th class="head"><p>Action</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>High Usage Warning</p></td>
<td><p>85%</p></td>
<td><p>Alert notification</p></td>
</tr>
<tr class="row-odd"><td><p>Critical Purge Trigger</p></td>
<td><p>95%</p></td>
<td><p>Auto-purge non-critical data</p></td>
</tr>
<tr class="row-even"><td><p>Emergency Action</p></td>
<td><p>98%</p></td>
<td><p>Emergency cleanup required</p></td>
</tr>
<tr class="row-odd"><td><p>Minimum Free Space</p></td>
<td><p>100MB</p></td>
<td><p>Prevent system failure</p></td>
</tr>
</tbody>
</table>
<p>### Purge Strategies</p>
<ol class="arabic simple">
<li><p><strong>FIFO (First-In, First-Out)</strong>: Delete oldest data first</p></li>
<li><p><strong>Priority-based</strong>: Delete based on category priority</p></li>
<li><p><strong>Size-based</strong>: Delete largest files first</p></li>
<li><p><strong>Hybrid</strong>: Combination of multiple strategies</p></li>
</ol>
</section>
<section id="offline-buffering">
<h2>Offline Buffering<a class="headerlink" href="#offline-buffering" title="Link to this heading"></a></h2>
<p>### Buffer Configuration</p>
<ul class="simple">
<li><p><strong>Maximum Queue Size</strong>: 100MB (configurable)</p></li>
<li><p><strong>Retry Interval</strong>: 30 seconds (configurable)</p></li>
<li><p><strong>Maximum Retry Time</strong>: 20 minutes (configurable)</p></li>
<li><p><strong>Auto-sync</strong>: Enabled on network reconnect</p></li>
</ul>
<p>### Buffer Health Status</p>
<ol class="arabic simple">
<li><p><strong>Healthy</strong>: Queue size &lt; 50%</p></li>
<li><p><strong>Warning</strong>: Queue size 50-80%</p></li>
<li><p><strong>Critical</strong>: Queue size &gt; 80%</p></li>
<li><p><strong>Full</strong>: Queue size 100%</p></li>
</ol>
</section>
<section id="rate-limiting">
<h2>Rate Limiting<a class="headerlink" href="#rate-limiting" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Retention Rate Limits</span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 40.0%" />
<col style="width: 30.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operation Type</p></th>
<th class="head"><p>Requests/Minute</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Status queries</strong></p></td>
<td><p>60</p></td>
<td><p>GET endpoints</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Policy updates</strong></p></td>
<td><p>10</p></td>
<td><p>PUT endpoints</p></td>
</tr>
<tr class="row-even"><td><p><strong>Purge operations</strong></p></td>
<td><p>2</p></td>
<td><p>Only one concurrent purge</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Export operations</strong></p></td>
<td><p>5</p></td>
<td><p>Size limit: 2GB per export</p></td>
</tr>
<tr class="row-even"><td><p><strong>Diagnostic runs</strong></p></td>
<td><p>1</p></td>
<td><p>One concurrent diagnostic</p></td>
</tr>
<tr class="row-odd"><td><p><strong>System operations</strong></p></td>
<td><p>2</p></td>
<td><p>Reset, emergency actions</p></td>
</tr>
</tbody>
</table>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<p>### Common Issues</p>
<ol class="arabic simple">
<li><p><strong>Storage Full Errors</strong>
- Check retention policies
- Run manual purge
- Increase storage thresholds
- Review data growth patterns</p></li>
<li><p><strong>Purge Operation Failed</strong>
- Check protected categories
- Verify sufficient permissions
- Check system resources
- Review error logs</p></li>
<li><p><strong>Sync Issues</strong>
- Check network connectivity
- Verify buffer configuration
- Check destination availability
- Review sync logs</p></li>
<li><p><strong>Compliance Violations</strong>
- Review retention policies
- Check audit logs
- Verify protection settings
- Run compliance check</p></li>
</ol>
<p>### Debug Information</p>
<p>When contacting support, provide:
- Gateway ID and firmware version
- Storage status and thresholds
- Retention policy configuration
- Error messages and codes
- Audit log entries
- Diagnostic report</p>
</section>
<section id="deprecation-notes">
<h2>Deprecation Notes<a class="headerlink" href="#deprecation-notes" title="Link to this heading"></a></h2>
<p>No endpoints are currently deprecated. All endpoints are fully supported in the current version.</p>
</section>
<section id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Link to this heading"></a></h2>
<dl class="simple glossary">
<dt id="term-Retention-Policy">Retention Policy<a class="headerlink" href="#term-Retention-Policy" title="Link to this term"></a></dt><dd><p>Rules defining how long data is kept before deletion.</p>
</dd>
<dt id="term-Purge-Priority">Purge Priority<a class="headerlink" href="#term-Purge-Priority" title="Link to this term"></a></dt><dd><p>Order in which data is deleted during cleanup operations.</p>
</dd>
<dt id="term-Offline-Buffering">Offline Buffering<a class="headerlink" href="#term-Offline-Buffering" title="Link to this term"></a></dt><dd><p>Temporary storage of data when destination is unavailable.</p>
</dd>
<dt id="term-Compression">Compression<a class="headerlink" href="#term-Compression" title="Link to this term"></a></dt><dd><p>Reducing data size to save storage space.</p>
</dd>
<dt id="term-FIFO-Rotation">FIFO Rotation<a class="headerlink" href="#term-FIFO-Rotation" title="Link to this term"></a></dt><dd><p>First-In, First-Out data deletion strategy.</p>
</dd>
<dt id="term-Protected-Category">Protected Category<a class="headerlink" href="#term-Protected-Category" title="Link to this term"></a></dt><dd><p>Data category with special retention protections.</p>
</dd>
<dt id="term-Compliance-Check">Compliance Check<a class="headerlink" href="#term-Compliance-Check" title="Link to this term"></a></dt><dd><p>Verification that policies meet regulatory requirements.</p>
</dd>
<dt id="term-Audit-Log">Audit Log<a class="headerlink" href="#term-Audit-Log" title="Link to this term"></a></dt><dd><p>Record of all retention-related operations.</p>
</dd>
<dt id="term-Storage-Threshold">Storage Threshold<a class="headerlink" href="#term-Storage-Threshold" title="Link to this term"></a></dt><dd><p>Usage level triggering specific actions or alerts.</p>
</dd>
<dt id="term-Emergency-Purge">Emergency Purge<a class="headerlink" href="#term-Emergency-Purge" title="Link to this term"></a></dt><dd><p>Forced cleanup when storage is critically full.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="backup.html" class="btn btn-neutral float-left" title="Backup &amp; Recovery Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="diagnostics.html" class="btn btn-neutral float-right" title="Diagnostics &amp; Terminal API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Your Company.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>